import{r as m,W as v,j as e,a as N}from"./utils-eb5efc80.js";import{D as b,i as D,j as S,k as C,l as y,E as I,m as U}from"./react-drag-drop-files.esm-41bf0066.js";import{L as A,I as E,B as P}from"./button-3cb7bb48.js";import{A as w,a as L,b as F}from"./alert-0236938e.js";import{U as R}from"./upload-cloud-5d69c1a3.js";import{A as O}from"./alert-circle-b44fd1a9.js";const T=["JPG","PNG","WEBP","JPEG"],B=()=>{const[l,r]=m.useState(""),[x,d]=m.useState(!0),{data:p,setData:i,post:f,processing:n,errors:s,reset:k}=v({name:"",image:void 0}),j=a=>{a.preventDefault(),f(route("server.store"),{onSuccess:()=>d(!1)})},h=a=>{var o;const{target:t}=a;if(!t.files||((o=t.files)==null?void 0:o.length)<1)return null;const c=t.files[0],u=URL.createObjectURL(c);i("image",c),r(u)},g=a=>{const t=URL.createObjectURL(a);i("image",a),r(t)};return e.jsx(b,{open:x,children:e.jsxs(D,{className:"p-0 overflow-auto",children:[e.jsxs(S,{className:"pt-7 px-5",children:[e.jsx(C,{className:"text-2xl text-center font-bold",children:"Create a Server"}),e.jsx(y,{className:"text-center",children:"Provide Server Name and Image..."})]}),e.jsx("form",{id:"server",onSubmit:j,className:"flex flex-col space-y-7",children:e.jsxs("div",{className:"flex flex-col space-y-7 px-5",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[(s.name||s.image)&&e.jsx(G,{messages:[(s==null?void 0:s.name)||"",(s==null?void 0:s.image)||""]}),e.jsx(I,{hoverTitle:"Upload or drop a file right here",handleChange:g,name:"file",types:T,children:e.jsxs("label",{htmlFor:"image",className:"flex flex-col items-center justify-center cursor-pointer p-6",children:[l?e.jsx("img",{src:l,width:150,height:150}):e.jsx(R,{size:150}),e.jsx("p",{children:"Click to Select an Image"}),e.jsx("p",{children:"Or Drag and Drop Images Here..."})]})}),e.jsx("input",{accept:".png,.jpeg,.jpg,.webp,",onChange:h,type:"file",hidden:!0,id:"image"})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx(A,{className:"uppercase text-xs font-bold",children:"Server Name"}),e.jsx(E,{value:p.name,onChange:({target:a})=>i("name",a.value),required:!0,disabled:n,className:"border-0 focus-visible:!ring-0 focus-visible:!ring-offset-0",placeholder:"Server Name...."})]})]})}),e.jsx(U,{className:"px-5 py-3.5",children:e.jsx(P,{disabled:n,form:"server",className:"ml-auto",children:"Create Server"})})]})})},G=({messages:l})=>e.jsxs(w,{variant:"destructive",children:[e.jsx(O,{className:"h-4 w-4"}),e.jsx(L,{children:"Error"}),e.jsx(F,{className:"flex flex-col",children:l.map(r=>r.length>0&&e.jsx("span",{children:r},r))})]}),K=()=>e.jsxs(e.Fragment,{children:[e.jsx(N,{title:"Create Server"}),e.jsx(B,{})]});export{K as default};
